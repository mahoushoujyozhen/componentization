import{S as O,i as z,s as C,Q,Y as W,k as h,w as v,a as P,l as w,m as b,x as I,h as m,c as V,n as S,b as F,F as _,y,Z as Y,f as D,t as k,z as x,q,r as B}from"../../../chunks/index-698f7898.js";import{B as j}from"../../../chunks/Button-3d8c8590.js";import{T as Z}from"../../../chunks/Textfield-07baeee5.js";function A(i){let e;return{c(){e=q("upload")},l(t){e=B(t,"upload")},m(t,a){F(t,e,a)},d(t){t&&m(e)}}}function G(i){let e;return{c(){e=q("delete")},l(t){e=B(t,"delete")},m(t,a){F(t,e,a)},d(t){t&&m(e)}}}function H(i){let e,t,a,d,g,f,c,s,o,p;function l(n){i[3](n)}let T={label:"File",type:"file"};return i[0]!==void 0&&(T.files=i[0]),a=new Z({props:T}),Q.push(()=>W(a,"files",l)),c=new j({props:{variant:"raised",$$slots:{default:[A]},$$scope:{ctx:i}}}),c.$on("click",i[1]),o=new j({props:{variant:"raised",$$slots:{default:[G]},$$scope:{ctx:i}}}),o.$on("click",i[2]),{c(){e=h("div"),t=h("div"),v(a.$$.fragment),g=P(),f=h("div"),v(c.$$.fragment),s=P(),v(o.$$.fragment),this.h()},l(n){e=w(n,"DIV",{class:!0});var r=b(e);t=w(r,"DIV",{class:!0});var $=b(t);I(a.$$.fragment,$),$.forEach(m),g=V(r),f=w(r,"DIV",{class:!0});var u=b(f);I(c.$$.fragment,u),s=V(u),I(o.$$.fragment,u),u.forEach(m),r.forEach(m),this.h()},h(){S(t,"class","hide-file-ui svelte-6pna4r"),S(f,"class","btnWrapper  svelte-6pna4r"),S(e,"class","form svelte-6pna4r")},m(n,r){F(n,e,r),_(e,t),y(a,t,null),_(e,g),_(e,f),y(c,f,null),_(f,s),y(o,f,null),p=!0},p(n,[r]){const $={};!d&&r&1&&(d=!0,$.files=n[0],Y(()=>d=!1)),a.$set($);const u={};r&32&&(u.$$scope={dirty:r,ctx:n}),c.$set(u);const E={};r&32&&(E.$$scope={dirty:r,ctx:n}),o.$set(E)},i(n){p||(D(a.$$.fragment,n),D(c.$$.fragment,n),D(o.$$.fragment,n),p=!0)},o(n){k(a.$$.fragment,n),k(c.$$.fragment,n),k(o.$$.fragment,n),p=!1},d(n){n&&m(e),x(a),x(c),x(o)}}}function J(i,e,t){let a=null,d;function g(){let s=new FormData;if(window.localStorage.getItem("id")!=null)var o=window.localStorage.getItem("id");else{alert("\u7528\u6237\u672A\u767B\u5F55\uFF0C\u8BF7\u5148\u767B\u5F55");return}s.append("userId",o),s.append("type","post"),s.append("file",a[0]),console.log(a),fetch("http://175.178.106.176:7070/api/filemanage",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",body:s}).then(l=>l.json()).then(l=>{if(l.status!=0){console.log(l.msg);return}console.log("success"),alert(l.msg),console.log(l.data),d=l.data.filepath,console.log(d)})}function f(){let s=new FormData;if(window.localStorage.getItem("id")!=null)var o=window.localStorage.getItem("id");else{alert("\u7528\u6237\u672A\u767B\u5F55\uFF0C\u8BF7\u5148\u767B\u5F55");return}s.append("userId",o),s.append("type","delete"),fetch("http://175.178.106.176:7070/api/filemanage",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",body:s}).then(l=>l.json()).then(l=>{if(l.status!=0){console.log(l.msg);return}console.log("success"),alert(l.msg),d="",console.log(d)})}function c(s){a=s,t(0,a)}return[a,g,f,c]}class N extends O{constructor(e){super(),z(this,e,J,H,C,{})}}export{N as default};
