import{S as Ee,i as Ae,s as Se,k as S,q as P,a as D,e as $,l as j,m as W,r as X,h as b,c as H,n as _,a9 as O,b as T,F as k,V as R,G as ge,B as U,a4 as F,M as je,p as L,aa as We,$ as be,u as ve,ab as ee}from"../../../chunks/index-698f7898.js";import{i as Ge}from"../../../chunks/navigation-f1e2d34f.js";import{c as Te}from"../../../chunks/singletons-ea28172e.js";const Ne=(s,e={})=>{le(e);let{colors:l=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:n=3500,force:o=.5,particleCount:a=150,particleShape:r="mix",particleSize:t=12,destroyAfterDone:i=!0,stageHeight:w=800,stageWidth:v=1600}=e;(function(u){const d=q("style");d.dataset.neoconfetti="",d.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',x(document.head,d)})(),s.classList.add("fk9XWG_container"),s.style.setProperty("--stage-height",w+"px");let E,p=oe(a,l),f=te(s,p);function g(u,d){const m=I(N()*(De-1)),c=r!=="rectangles"&&(r==="circles"||He(m)),h=(G,C)=>u.style.setProperty(G,C+"");h("--x-landing-point",V(B(re(d,90)-180),0,180,-v/2,v/2)+"px"),h("--duration-chaos",n-I(1e3*N())+"ms");const A=N()<Pe?z(N()*Xe,2):0;h("--x1",A),h("--x2",-1*A),h("--x3",A),h("--x4",z(B(V(B(re(d,90)-180),0,180,-1,1)),4)),h("--y1",z(N()*se,4)),h("--y2",z(N()*o*(ye()?1:-1),4)),h("--y3",se),h("--y4",z(Ce(V(B(d-180),0,180,o,-o),0),4)),h("--width",(c?t:I(4*N())+t/2)+"px"),h("--height",(c?t:I(2*N())+t)+"px");const y=m.toString(2).padStart(3,"0").split("");h("--half-rotation",y.map(G=>+G/2+"")),h("--rotation",y),h("--rotation-duration",z(N()*(Oe-ae)+ae)+"ms"),h("--border-radius",c?"50%":0)}for(const[u,d]of Object.entries(f))g(d,p[+u].degree);return Promise.resolve().then(()=>E=setTimeout(()=>i&&(s.innerHTML=""),n)),{update(u){var h,A,y,G,C,K,Q,Y,Z;le(u);const d=(h=u.particleCount)!=null?h:a,m=(A=u.colors)!=null?A:l,c=(y=u.stageHeight)!=null?y:w;if(p=oe(d,m),d===a&&JSON.stringify(l)!==JSON.stringify(m))for(const[ke,{color:we}]of Object.entries(p))f[+ke].style.setProperty("--bgcolor",we);d!==a&&(s.innerHTML="",f=te(s,p)),i&&!u.destroyAfterDone&&clearTimeout(E),s.style.setProperty("--stage-height",c+"px"),l=m,n=(G=u.duration)!=null?G:n,o=(C=u.force)!=null?C:o,a=d,r=(K=u.particleShape)!=null?K:r,t=(Q=u.particleSize)!=null?Q:t,i=(Y=u.destroyAfterDone)!=null?Y:i,w=c,v=(Z=u.stageWidth)!=null?Z:v},destroy(){clearTimeout(E)}}};function te(s,e=[]){const l=[];for(const{color:n}of e){const o=q("div");o.className="fk9XWG_particle",o.style.setProperty("--bgcolor",n);const a=q("div");x(o,a),x(s,o),l.push(o)}return l}const ae=200,Oe=800,Pe=.1,Xe=.3,se=.5,B=Math.abs,N=Math.random,I=Math.round,Ce=Math.max,q=s=>document.createElement(s),x=(s,e)=>s.appendChild(e),oe=(s,e)=>Array.from({length:s},(l,n)=>({color:e[n%e.length],degree:360*n/s})),z=(s,e=2)=>I((s+Number.EPSILON)*10**e)/10**e,V=(s,e,l,n,o)=>(s-e)*(o-n)/(l-e)+n,re=(s,e)=>s+e>360?s+e-360:s+e,ye=()=>N()>.5,De=6,He=s=>s!==1&&ye(),J=s=>s===void 0,M=(s,e)=>{if(!J(s)&&Number.isSafeInteger(s)&&s<0)throw new Error(e+" must be a positive integer")},le=({particleCount:s,duration:e,colors:l,particleSize:n,force:o,stageHeight:a,stageWidth:r,particleShape:t})=>{if(M(s,"particleCount"),M(e,"duration"),M(n,"particleSize"),M(o,"force"),M(a,"stageHeight"),M(r,"stageWidth"),!J(t)&&!/^(mix|circles|rectangles)$/i.test(t))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!J(l)&&!Array.isArray(l))throw new Error("colors must be an array of strings");if(o>1)throw new Error("force must be within 0 and 1")},ze=Te.apply_action;function Me(s,e=()=>{}){const l=async({action:o,result:a})=>{a.type==="success"&&(s.reset(),await Ge()),(location.origin+location.pathname===o.origin+o.pathname||a.type==="redirect"||a.type==="error")&&ze(a)};async function n(o){var f,g,u,d,m;o.preventDefault();const a=new URL((f=o.submitter)!=null&&f.hasAttribute("formaction")?o.submitter.formAction:s.action),r=new FormData(s),t=(g=o.submitter)==null?void 0:g.getAttribute("name");t&&r.append(t,(d=(u=o.submitter)==null?void 0:u.getAttribute("value"))!=null?d:"");const i=new AbortController;let w=!1;const E=(m=e({action:a,cancel:()=>w=!0,controller:i,data:r,form:s}))!=null?m:l;if(w)return;let p;try{p=await(await fetch(a,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},body:r,signal:i.signal})).json()}catch(c){if((c==null?void 0:c.name)==="AbortError")return;p={type:"error",error:c}}E({action:a,data:r,form:s,update:()=>l({action:a,result:p}),result:p,get type(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get location(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")},get error(){throw new Error("(result) => {...} has changed to ({ result }) => {...}")}})}return s.addEventListener("submit",n),{destroy(){s.removeEventListener("submit",n)}}}const{window:Ie}=We;function ne(s,e,l){const n=s.slice();return n[7]=e[l],n}function ie(s,e,l){const n=s.slice();return n[10]=e[l],n}function ce(s,e,l){const n=s.slice();n[13]=e[l],n[7]=l;const o=n[7]===n[3];return n[14]=o,n}function ue(s,e,l){var a;const n=s.slice();n[13]=e[l],n[18]=l;const o=(a=n[0].answers[n[7]])==null?void 0:a[n[18]];return n[16]=o,n}function fe(s){let e,l,n,o;return{c(){e=S("input"),this.h()},l(a){e=j(a,"INPUT",{name:!0,"aria-selected":!0,class:!0}),this.h()},h(){var a,r;_(e,"name","guess"),e.disabled=l=!s[14],e.readOnly=!0,_(e,"aria-selected",n=s[14]&&s[18]===s[0].guesses[s[7]].length),e.value=o=(r=(a=s[0].guesses[s[7]])==null?void 0:a[s[18]])!=null?r:"",_(e,"class","svelte-eop7jo"),O(e,"exact",s[16]==="x"),O(e,"close",s[16]==="c")},m(a,r){T(a,e,r)},p(a,r){var t,i;r&8&&l!==(l=!a[14])&&(e.disabled=l),r&9&&n!==(n=a[14]&&a[18]===a[0].guesses[a[7]].length)&&_(e,"aria-selected",n),r&1&&o!==(o=(i=(t=a[0].guesses[a[7]])==null?void 0:t[a[18]])!=null?i:"")&&e.value!==o&&(e.value=o),r&1&&O(e,"exact",a[16]==="x"),r&1&&O(e,"close",a[16]==="c")},d(a){a&&b(e)}}}function he(s){let e,l,n=Array(5),o=[];for(let a=0;a<n.length;a+=1)o[a]=fe(ue(s,n,a));return{c(){e=S("div");for(let a=0;a<o.length;a+=1)o[a].c();l=D(),this.h()},l(a){e=j(a,"DIV",{class:!0});var r=W(e);for(let t=0;t<o.length;t+=1)o[t].l(r);l=H(r),r.forEach(b),this.h()},h(){_(e,"class","row svelte-eop7jo"),O(e,"current",s[14])},m(a,r){T(a,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);k(e,l)},p(a,r){if(r&9){n=Array(5);let t;for(t=0;t<n.length;t+=1){const i=ue(a,n,t);o[t]?o[t].p(i,r):(o[t]=fe(i),o[t].c(),o[t].m(e,l))}for(;t<o.length;t+=1)o[t].d(1);o.length=n.length}r&8&&O(e,"current",a[14])},d(a){a&&b(e),F(o,a)}}}function Be(s){let e,l,n,o,a,r,t,i,w,v,E=["qwertyuiop","asdfghjkl","zxcvbnm"],p=[];for(let f=0;f<3;f+=1)p[f]=pe(ne(s,E,f));return{c(){e=S("div"),l=S("button"),n=P("enter"),a=D(),r=S("button"),t=P("back"),i=D();for(let f=0;f<3;f+=1)p[f].c();this.h()},l(f){e=j(f,"DIV",{class:!0});var g=W(e);l=j(g,"BUTTON",{"data-key":!0,"aria-selected":!0,class:!0});var u=W(l);n=X(u,"enter"),u.forEach(b),a=H(g),r=j(g,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0});var d=W(r);t=X(d,"back"),d.forEach(b),i=H(g);for(let m=0;m<3;m+=1)p[m].l(g);g.forEach(b),this.h()},h(){_(l,"data-key","enter"),_(l,"aria-selected",s[5]),l.disabled=o=!s[5],_(l,"class","svelte-eop7jo"),_(r,"data-key","backspace"),_(r,"formaction","?/update"),_(r,"name","key"),r.value="backspace",_(r,"class","svelte-eop7jo"),_(e,"class","keyboard svelte-eop7jo")},m(f,g){T(f,e,g),k(e,l),k(l,n),k(e,a),k(e,r),k(r,t),k(e,i);for(let u=0;u<3;u+=1)p[u].m(e,null);w||(v=R(r,"click",be(s[6])),w=!0)},p(f,g){if(g&32&&_(l,"aria-selected",f[5]),g&32&&o!==(o=!f[5])&&(l.disabled=o),g&77){E=["qwertyuiop","asdfghjkl","zxcvbnm"];let u;for(u=0;u<3;u+=1){const d=ne(f,E,u);p[u]?p[u].p(d,g):(p[u]=pe(d),p[u].c(),p[u].m(e,null))}for(;u<3;u+=1)p[u].d(1)}},d(f){f&&b(e),F(p,f),w=!1,v()}}}function Fe(s){let e,l,n=s[4]?"you won :)":"game over :(",o,a,r=!s[4]&&s[0].answer&&_e(s);return{c(){r&&r.c(),e=D(),l=S("button"),o=P(n),a=P(" play again?"),this.h()},l(t){r&&r.l(t),e=H(t),l=j(t,"BUTTON",{"data-key":!0,"aria-selected":!0,class:!0,formaction:!0});var i=W(l);o=X(i,n),a=X(i," play again?"),i.forEach(b),this.h()},h(){_(l,"data-key","enter"),_(l,"aria-selected","true"),_(l,"class","restart svelte-eop7jo"),_(l,"formaction","?/restart")},m(t,i){r&&r.m(t,i),T(t,e,i),T(t,l,i),k(l,o),k(l,a)},p(t,i){!t[4]&&t[0].answer?r?r.p(t,i):(r=_e(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),i&16&&n!==(n=t[4]?"you won :)":"game over :(")&&ve(o,n)},d(t){r&&r.d(t),t&&b(e),t&&b(l)}}}function de(s){let e,l,n,o,a,r;return{c(){e=S("button"),l=P(s[10]),this.h()},l(t){e=j(t,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0});var i=W(e);l=X(i,s[10]),i.forEach(b),this.h()},h(){_(e,"data-key",s[10]),_(e,"class",n=ee(s[2][s[10]])+" svelte-eop7jo"),e.disabled=o=s[0].guesses[s[3]].length===5,_(e,"formaction","?/update"),_(e,"name","key"),e.value=s[10]},m(t,i){T(t,e,i),k(e,l),a||(r=R(e,"click",be(s[6])),a=!0)},p(t,i){i&4&&n!==(n=ee(t[2][t[10]])+" svelte-eop7jo")&&_(e,"class",n),i&9&&o!==(o=t[0].guesses[t[3]].length===5)&&(e.disabled=o)},d(t){t&&b(e),a=!1,r()}}}function pe(s){let e,l,n=s[7],o=[];for(let a=0;a<n.length;a+=1)o[a]=de(ie(s,n,a));return{c(){e=S("div");for(let a=0;a<o.length;a+=1)o[a].c();l=D(),this.h()},l(a){e=j(a,"DIV",{class:!0});var r=W(e);for(let t=0;t<o.length;t+=1)o[t].l(r);l=H(r),r.forEach(b),this.h()},h(){_(e,"class","row svelte-eop7jo")},m(a,r){T(a,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);k(e,l)},p(a,r){if(r&77){n=a[7];let t;for(t=0;t<n.length;t+=1){const i=ie(a,n,t);o[t]?o[t].p(i,r):(o[t]=de(i),o[t].c(),o[t].m(e,l))}for(;t<o.length;t+=1)o[t].d(1);o.length=n.length}},d(a){a&&b(e),F(o,a)}}}function _e(s){let e,l,n=s[0].answer+"",o,a;return{c(){e=S("p"),l=P('the answer was "'),o=P(n),a=P('"')},l(r){e=j(r,"P",{});var t=W(e);l=X(t,'the answer was "'),o=X(t,n),a=X(t,'"'),t.forEach(b)},m(r,t){T(r,e,t),k(e,l),k(e,o),k(e,a)},p(r,t){t&1&&n!==(n=r[0].answer+"")&&ve(o,n)},d(r){r&&b(e)}}}function me(s){let e,l,n;return{c(){e=S("div"),this.h()},l(o){e=j(o,"DIV",{style:!0}),W(e).forEach(b),this.h()},h(){L(e,"position","absolute"),L(e,"left","50%"),L(e,"top","30%")},m(o,a){T(o,e,a),l||(n=ge(Ne.call(null,e,{force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),l=!0)},p:U,d(o){o&&b(e),l=!1,n()}}}function Le(s){let e,l,n,o,a,r,t,i,w,v,E,p=Array(6),f=[];for(let c=0;c<p.length;c+=1)f[c]=he(ce(s,p,c));function g(c,h){return c[4]||c[0].answers.length>=6?Fe:Be}let u=g(s),d=u(s),m=s[4]&&me();return{c(){e=S("form"),l=S("a"),n=P("How to play"),o=D(),a=S("div");for(let c=0;c<f.length;c+=1)f[c].c();r=D(),t=S("div"),d.c(),i=D(),m&&m.c(),w=$(),this.h()},l(c){e=j(c,"FORM",{method:!0,action:!0,class:!0});var h=W(e);l=j(h,"A",{class:!0,href:!0});var A=W(l);n=X(A,"How to play"),A.forEach(b),o=H(h),a=j(h,"DIV",{class:!0});var y=W(a);for(let C=0;C<f.length;C+=1)f[C].l(y);y.forEach(b),r=H(h),t=j(h,"DIV",{class:!0});var G=W(t);d.l(G),G.forEach(b),h.forEach(b),i=H(c),m&&m.l(c),w=$(),this.h()},h(){var c;_(l,"class","how-to-play svelte-eop7jo"),_(l,"href","/sverdle/how-to-play"),_(a,"class","grid svelte-eop7jo"),O(a,"playing",!s[4]),O(a,"bad-guess",(c=s[1])==null?void 0:c.badGuess),_(t,"class","controls svelte-eop7jo"),_(e,"method","POST"),_(e,"action","?/enter"),_(e,"class","svelte-eop7jo")},m(c,h){T(c,e,h),k(e,l),k(l,n),k(e,o),k(e,a);for(let A=0;A<f.length;A+=1)f[A].m(a,null);k(e,r),k(e,t),d.m(t,null),T(c,i,h),m&&m.m(c,h),T(c,w,h),v||(E=[R(Ie,"keydown",Ve),ge(Me.call(null,e))],v=!0)},p(c,[h]){var A;if(h&9){p=Array(6);let y;for(y=0;y<p.length;y+=1){const G=ce(c,p,y);f[y]?f[y].p(G,h):(f[y]=he(G),f[y].c(),f[y].m(a,null))}for(;y<f.length;y+=1)f[y].d(1);f.length=p.length}h&16&&O(a,"playing",!c[4]),h&2&&O(a,"bad-guess",(A=c[1])==null?void 0:A.badGuess),u===(u=g(c))&&d?d.p(c,h):(d.d(1),d=u(c),d&&(d.c(),d.m(t,null))),c[4]?m?m.p(c,h):(m=me(),m.c(),m.m(w.parentNode,w)):m&&(m.d(1),m=null)},i:U,o:U,d(c){c&&b(e),F(f,c),d.d(),c&&b(i),m&&m.d(c),c&&b(w),v=!1,je(E)}}}function Ve(s){var e;s.metaKey||(e=document.querySelector(`[data-key="${s.key}" i]`))==null||e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}function Ue(s,e,l){let n,o,a,{data:r}=e,{form:t}=e,i;function w(v){const E=r.guesses[o],p=v.target.getAttribute("data-key");p==="backspace"?(l(0,r.guesses[o]=E.slice(0,-1),r),t!=null&&t.badGuess&&l(1,t.badGuess=!1,t)):E.length<5&&l(0,r.guesses[o]+=p,r)}return s.$$set=v=>{"data"in v&&l(0,r=v.data),"form"in v&&l(1,t=v.form)},s.$$.update=()=>{var v;s.$$.dirty&1&&l(4,n=r.answers.at(-1)==="xxxxx"),s.$$.dirty&17&&l(3,o=n?-1:r.answers.length),s.$$.dirty&13&&(l(2,i={}),r.answers.forEach((E,p)=>{const f=r.guesses[p];for(let g=0;g<5;g+=1){const u=f[g];E[g]==="x"?l(2,i[u]="exact",i):i[u]||l(2,i[u]=E[g]==="c"?"close":"missing",i)}})),s.$$.dirty&9&&l(5,a=((v=r.guesses[o])==null?void 0:v.length)===5)},[r,t,i,o,n,a,w]}class Re extends Ee{constructor(e){super(),Ae(this,e,Ue,Le,Se,{data:0,form:1})}}export{Re as default};
